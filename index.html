<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skylandle - Daily Guessing Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Black', 'Arial Bold', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        header {
            width: 100%;
            max-width: 800px;
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 48px;
            font-weight: 900;
            letter-spacing: 0.1rem;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 14px;
            color: #ffd700;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }

        .instructions {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            font-size: 13px;
            max-width: 800px;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .legend-box {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-box.correct { background: linear-gradient(135deg, #10b981, #059669); }
        .legend-box.incorrect { background: linear-gradient(135deg, #ef4444, #dc2626); }

        #input-container {
            position: relative;
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            max-width: 600px;
            width: 100%;
        }

        #guess-input {
            flex: 1;
            padding: 15px;
            font-size: 18px;
            border: 3px solid #ffd700;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.95);
            color: #1e3c72;
            font-weight: bold;
            text-transform: uppercase;
        }

        #submit-btn {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #1e3c72;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
        }

        #guesses-container {
            width: 100%;
            max-width: 900px;
            margin-bottom: 20px;
        }

        .guess-row {
            display: grid;
            grid-template-columns: 180px repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 10px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .guess-name {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: 2px solid #ffd700;
            font-size: 14px;
        }

        .attribute-cell {
            padding: 12px 8px;
            border-radius: 8px;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 12px;
            border: 2px solid transparent;
        }

        .attribute-cell.correct {
            background: linear-gradient(135deg, #10b981, #059669);
            border-color: #10b981;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
        }

        .attribute-cell.incorrect {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-color: #ef4444;
        }

        .header-row {
            display: grid;
            grid-template-columns: 180px repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 10px;
            font-size: 12px;
            font-weight: bold;
            color: #ffd700;
        }

        .header-cell { text-align: center; padding: 8px; }

        #message {
            position: fixed;
            top: 120px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #1e3c72;
            padding: 16px 24px;
            border-radius: 8px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        #message.show { opacity: 1; }

        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(30, 60, 114, 0.98);
            padding: 40px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            border: 3px solid #ffd700;
            z-index: 2000;
        }

        .suggestions {
            position: absolute;
            top: 60px;
            background: white;
            color: #1e3c72;
            width: calc(100% - 130px);
            max-height: 200px;
            overflow-y: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .suggestion-item { padding: 12px; cursor: pointer; border-bottom: 1px solid #eee; font-weight: bold; }
        .suggestion-item:hover { background: #f0f0f0; }

        @media (max-width: 768px) {
            .guess-row, .header-row { grid-template-columns: 100px repeat(5, 1fr); gap: 4px; }
            .attribute-cell, .guess-name { font-size: 10px; padding: 5px; }
            h1 { font-size: 32px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>SKYLANDLE</h1>
        <div class="subtitle">Daily Mystery Skylander!</div>
    </header>

    <div class="instructions">
        Find today's mystery Skylander. New character every day at midnight!
    </div>

    <div id="game-info" style="background: rgba(255, 255, 255, 0.1); padding: 10px 20px; border-radius: 8px; margin-bottom: 20px;">
        <span>Guesses: 0/6</span>
    </div>

    <div id="input-container">
        <input type="text" id="guess-input" placeholder="Enter name..." autocomplete="off">
        <button id="submit-btn">GUESS</button>
        <div id="suggestions" class="suggestions" style="display: none;"></div>
    </div>

    <div id="message"></div>

    <div id="guesses-container">
        <div class="header-row">
            <div class="header-cell">SKYLANDER</div>
            <div class="header-cell">GAME</div>
            <div class="header-cell">ELEMENT</div>
            <div class="header-cell">WEAPON</div>
            <div class="header-cell">GENDER</div>
            <div class="header-cell">COLOR</div>
        </div>
    </div>

    <script>
        const SKYLANDERS_DB = {
            'SPYRO': { game: 'Spyro Adventure', element: 'Magic', weapon: 'Fire Breath', gender: 'Male', color: 'Purple' },
            'GILL GRUNT': { game: 'Spyro Adventure', element: 'Water', weapon: 'Harpoon Gun', gender: 'Male', color: 'Blue' },
            'TRIGGER HAPPY': { game: 'Spyro Adventure', element: 'Tech', weapon: 'Dual Pistols', gender: 'Male', color: 'Yellow' },
            'ERUPTOR': { game: 'Spyro Adventure', element: 'Fire', weapon: 'Lava Blob', gender: 'Male', color: 'Red' },
            'STEALTH ELF': { game: 'Spyro Adventure', element: 'Life', weapon: 'Daggers', gender: 'Female', color: 'Green' },
            'TERRAFIN': { game: 'Spyro Adventure', element: 'Earth', weapon: 'Brass Knuckles', gender: 'Male', color: 'Brown' },
            'DARK SPYRO': { game: 'Spyro Adventure', element: 'Undead', weapon: 'Fire Breath', gender: 'Male', color: 'Black' },
            'CHOP CHOP': { game: 'Spyro Adventure', element: 'Undead', weapon: 'Sword', gender: 'Male', color: 'Blue' },
            'BASH': { game: 'Spyro Adventure', element: 'Earth', weapon: 'Tail Slam', gender: 'Male', color: 'Gray' },
            'CYNDER': { game: 'Spyro Adventure', element: 'Undead', weapon: 'Lightning', gender: 'Female', color: 'Purple' },
            'FLAMESLINGER': { game: 'Spyro Adventure', element: 'Fire', weapon: 'Bow', gender: 'Male', color: 'Orange' },
            'ZAP': { game: 'Spyro Adventure', element: 'Water', weapon: 'Lightning', gender: 'Male', color: 'Blue' },
            'WRECKING BALL': { game: 'Spyro Adventure', element: 'Magic', weapon: 'Tongue', gender: 'Male', color: 'Blue' },
            'SONIC BOOM': { game: 'Spyro Adventure', element: 'Air', weapon: 'Roar', gender: 'Female', color: 'Blue' },
            'WHIRLWIND': { game: 'Spyro Adventure', element: 'Air', weapon: 'Rainbow', gender: 'Female', color: 'White' },
            'DRILL SERGEANT': { game: 'Spyro Adventure', element: 'Tech', weapon: 'Drill', gender: 'Male', color: 'Yellow' },
            'BOOMER': { game: 'Spyro Adventure', element: 'Tech', weapon: 'Dynamite', gender: 'Male', color: 'Yellow' },
            'WARNADO': { game: 'Spyro Adventure', element: 'Air', weapon: 'Spin Attack', gender: 'Male', color: 'Green' },
            'CAMO': { game: 'Spyro Adventure', element: 'Life', weapon: 'Melon Cannon', gender: 'Male', color: 'Green' },
            'IGNITOR': { game: 'Spyro Adventure', element: 'Fire', weapon: 'Sword', gender: 'Male', color: 'Orange' },
            'SUNBURN': { game: 'Spyro Adventure', element: 'Fire', weapon: 'Fire Breath', gender: 'Male', color: 'Red' },
            'ZOO LOU': { game: 'Swap Force', element: 'Life', weapon: 'Boomerang', gender: 'Male', color: 'Green' },
            'DINO RANG': { game: 'Spyro Adventure', element: 'Earth', weapon: 'Boomerang', gender: 'Male', color: 'Brown' },
            'PRISM BREAK': { game: 'Spyro Adventure', element: 'Earth', weapon: 'Laser Beam', gender: 'Male', color: 'Blue' },
            'STUMP SMASH': { game: 'Spyro Adventure', element: 'Life', weapon: 'Hammers', gender: 'Male', color: 'Green' },
            'LIGHTNING ROD': { game: 'Spyro Adventure', element: 'Air', weapon: 'Lightning', gender: 'Male', color: 'Blue' },
            'ZOOK': { game: 'Spyro Adventure', element: 'Life', weapon: 'Bazooka', gender: 'Male', color: 'Green' },
            'GHOST ROASTER': { game: 'Spyro Adventure', element: 'Undead', weapon: 'Chain', gender: 'Male', color: 'Purple' },
            'VOODOOD': { game: 'Spyro Adventure', element: 'Magic', weapon: 'Axe', gender: 'Male', color: 'Blue' },
            'DOUBLE TROUBLE': { game: 'Spyro Adventure', element: 'Magic', weapon: 'Magic Beam', gender: 'Male', color: 'Yellow' },
            'HEX': { game: 'Spyro Adventure', element: 'Undead', weapon: 'Skull Rain', gender: 'Female', color: 'Purple' },
            'DROBOT': { game: 'Spyro Adventure', element: 'Tech', weapon: 'Laser', gender: 'Male', color: 'Yellow' },
            'WHAM SHELL': { game: 'Spyro Adventure', element: 'Water', weapon: 'Mace', gender: 'Male', color: 'Green' },
            'SLAM BAM': { game: 'Spyro Adventure', element: 'Water', weapon: 'Ice Fists', gender: 'Male', color: 'Blue' },
            'TREE REX': { game: 'Giants', element: 'Life', weapon: 'Laser', gender: 'Male', color: 'Green' },
            'BOUNCER': { game: 'Giants', element: 'Tech', weapon: 'Finger Gun', gender: 'Male', color: 'Blue' },
            'CRUSHER': { game: 'Giants', element: 'Earth', weapon: 'Hammer', gender: 'Male', color: 'Gray' },
            'SWARM': { game: 'Giants', element: 'Air', weapon: 'Sword', gender: 'Male', color: 'Orange' },
            'HOT HEAD': { game: 'Giants', element: 'Fire', weapon: 'Oil Cannon', gender: 'Male', color: 'Red' },
            'EYE BRAWL': { game: 'Giants', element: 'Undead', weapon: 'Fists', gender: 'Male', color: 'Purple' },
            'THUMPBACK': { game: 'Giants', element: 'Water', weapon: 'Anchor', gender: 'Male', color: 'Blue' },
            'NINJINI': { game: 'Giants', element: 'Magic', weapon: 'Sword', gender: 'Female', color: 'Purple' },
            'BLAST ZONE': { game: 'Swap Force', element: 'Fire', weapon: 'Rocket', gender: 'Male', color: 'Red' },
            'WASH BUCKLER': { game: 'Swap Force', element: 'Water', weapon: 'Cutlass', gender: 'Male', color: 'Blue' },
            'MAGNA CHARGE': { game: 'Swap Force', element: 'Tech', weapon: 'Magnet Cannon', gender: 'Male', color: 'Yellow' },
            'RATTLE SHAKE': { game: 'Swap Force', element: 'Undead', weapon: 'Revolver', gender: 'Male', color: 'Green' },
            'FREE RANGER': { game: 'Swap Force', element: 'Air', weapon: 'Boomerang', gender: 'Male', color: 'Blue' },
            'RUBBLE ROUSER': { game: 'Swap Force', element: 'Earth', weapon: 'Drill', gender: 'Male', color: 'Brown' },
            'DOOM STONE': { game: 'Swap Force', element: 'Earth', weapon: 'Club', gender: 'Male', color: 'Purple' },
            'NIGHT SHIFT': { game: 'Swap Force', element: 'Undead', weapon: 'Boxing Gloves', gender: 'Male', color: 'Black' },
            'FREEZE BLADE': { game: 'Swap Force', element: 'Water', weapon: 'Ice Blade', gender: 'Male', color: 'Blue' },
            'FIRE KRAKEN': { game: 'Swap Force', element: 'Fire', weapon: 'Whip', gender: 'Male', color: 'Red' },
            'STINK BOMB': { game: 'Swap Force', element: 'Life', weapon: 'Nunchucks', gender: 'Male', color: 'Green' },
            'GRILLA DRILLA': { game: 'Swap Force', element: 'Life', weapon: 'Drill', gender: 'Male', color: 'Green' },
            'HOOT LOOP': { game: 'Swap Force', element: 'Magic', weapon: 'Teleport', gender: 'Male', color: 'Blue' },
            'TRAP SHADOW': { game: 'Swap Force', element: 'Magic', weapon: 'Daggers', gender: 'Male', color: 'Purple' },
            'SPY RISE': { game: 'Swap Force', element: 'Tech', weapon: 'Laser', gender: 'Male', color: 'Yellow' },
            'BOOM JET': { game: 'Swap Force', element: 'Air', weapon: 'Bombs', gender: 'Male', color: 'Blue' },
            'SNAP SHOT': { game: 'Trap Team', element: 'Water', weapon: 'Traptanium Bow', gender: 'Male', color: 'Blue' },
            'WILDFIRE': { game: 'Trap Team', element: 'Fire', weapon: 'Traptanium Bow', gender: 'Male', color: 'Red' },
            'WALLOP': { game: 'Trap Team', element: 'Earth', weapon: 'Traptanium Hammer', gender: 'Male', color: 'Brown' },
            'HEAD RUSH': { game: 'Trap Team', element: 'Air', weapon: 'Traptanium Ram', gender: 'Female', color: 'Purple' },
            'FIST BUMP': { game: 'Trap Team', element: 'Earth', weapon: 'Traptanium Fist', gender: 'Male', color: 'Gray' },
            'ROCKY ROLL': { game: 'Trap Team', element: 'Earth', weapon: 'Boulder Roll', gender: 'Male', color: 'Blue' },
            'BUSHWHACK': { game: 'Trap Team', element: 'Life', weapon: 'Traptanium Axe', gender: 'Male', color: 'Green' },
            'TUFF LUCK': { game: 'Trap Team', element: 'Magic', weapon: 'Traptanium Warblades', gender: 'Female', color: 'Blue' },
            'FOOD FIGHT': { game: 'Trap Team', element: 'Life', weapon: 'Tomato Cannon', gender: 'Male', color: 'Red' },
            'HIGH FIVE': { game: 'Trap Team', element: 'Air', weapon: 'Traptanium Boomerang', gender: 'Male', color: 'Blue' },
            'FUNNY BONE': { game: 'Trap Team', element: 'Undead', weapon: 'Traptanium Sword', gender: 'Male', color: 'Purple' },
            'CHOPPER': { game: 'Trap Team', element: 'Tech', weapon: 'Traptanium Blades', gender: 'Male', color: 'Yellow' },
            'SHROOMBOOM': { game: 'Giants', element: 'Life', weapon: 'Rocket', gender: 'Male', color: 'Blue' },
            'GRIM CREEPER': { game: 'Trap Team', element: 'Undead', weapon: 'Scythe', gender: 'Male', color: 'Green' },
            'GUSTO': { game: 'Trap Team', element: 'Air', weapon: 'Boomerang', gender: 'Male', color: 'Blue' },
            'THUNDERBOLT': { game: 'Trap Team', element: 'Air', weapon: 'Traptanium Mace', gender: 'Male', color: 'Blue' },
            'BLADES': { game: 'Trap Team', element: 'Air', weapon: 'Swords', gender: 'Male', color: 'Green' },
            'TORCH': { game: 'Trap Team', element: 'Fire', weapon: 'Traptanium Flamethrower', gender: 'Male', color: 'Orange' },
            'TRAIL BLAZER': { game: 'Trap Team', element: 'Fire', weapon: 'Skateboard', gender: 'Male', color: 'Red' },
            'KNIGHT LIGHT': { game: 'Trap Team', element: 'Light', weapon: 'Traptanium Sword', gender: 'Male', color: 'White' },
            'SPOTLIGHT': { game: 'Trap Team', element: 'Light', weapon: 'Traptanium Sword', gender: 'Female', color: 'White' },
            'BLACKOUT': { game: 'Trap Team', element: 'Dark', weapon: 'Traptanium Blade', gender: 'Male', color: 'Black' },
            'KNIGHT MARE': { game: 'Trap Team', element: 'Dark', weapon: 'Traptanium Mace', gender: 'Female', color: 'Black' },
            'SPITFIRE': { game: 'SuperChargers', element: 'Fire', weapon: 'Flame Sword', gender: 'Male', color: 'Red' },
            'STORMBLADE': { game: 'SuperChargers', element: 'Air', weapon: 'Boomerang', gender: 'Male', color: 'Blue' },
            'FIESTA': { game: 'SuperChargers', element: 'Undead', weapon: 'Trumpet', gender: 'Male', color: 'Purple' },
            'SPLAT': { game: 'SuperChargers', element: 'Magic', weapon: 'Paintbrush', gender: 'Female', color: 'Purple' },
            'HURRICANE JET VAC': { game: 'SuperChargers', element: 'Air', weapon: 'Vacuum', gender: 'Male', color: 'Blue' },
            'NIGHTFALL': { game: 'SuperChargers', element: 'Dark', weapon: 'Traptanium Staff', gender: 'Female', color: 'Black' },
            'KING PEN': { game: 'Imaginators', element: 'Water', weapon: 'Trident', gender: 'Male', color: 'Blue' },
            'TIDEPOOL': { game: 'Imaginators', element: 'Water', weapon: 'Cutlass', gender: 'Female', color: 'Blue' },
            'PIT BOSS': { game: 'Imaginators', element: 'Earth', weapon: 'Wrench', gender: 'Male', color: 'Brown' },
            'BARBELLA': { game: 'Imaginators', element: 'Earth', weapon: 'Dumbbells', gender: 'Female', color: 'Pink' },
            'AIR STRIKE': { game: 'Imaginators', element: 'Air', weapon: 'Missiles', gender: 'Male', color: 'Blue' },
            'EMBER': { game: 'Imaginators', element: 'Fire', weapon: 'Fire Sword', gender: 'Female', color: 'Red' },
            'CHAIN REACTION': { game: 'Imaginators', element: 'Tech', weapon: 'Chain Whips', gender: 'Female', color: 'Yellow' },
            'HOOD SICKLE': { game: 'Imaginators', element: 'Undead', weapon: 'Scythe', gender: 'Male', color: 'Green' },
            'CHOPSCOTCH': { game: 'Imaginators', element: 'Magic', weapon: 'Axe', gender: 'Female', color: 'Purple' },
            'PAIN YATTA': { game: 'Imaginators', element: 'Magic', weapon: 'Candy Blaster', gender: 'Male', color: 'Rainbow' },
            'MYSTICAT': { game: 'Imaginators', element: 'Magic', weapon: 'Staff', gender: 'Female', color: 'Purple' },
            'STARCAST': { game: 'Imaginators', element: 'Magic', weapon: 'Staff', gender: 'Male', color: 'Blue' },
            'BUCKSHOT': { game: 'Imaginators', element: 'Earth', weapon: 'Crossbow', gender: 'Male', color: 'Green' },
            'AURORA': { game: 'Imaginators', element: 'Light', weapon: 'Bow', gender: 'Female', color: 'White' },
            'FLARE WOLF': { game: 'Imaginators', element: 'Fire', weapon: 'Howitzer', gender: 'Male', color: 'Orange' },
            'WILD STORM': { game: 'Imaginators', element: 'Air', weapon: 'Boomerang', gender: 'Male', color: 'Blue' },
            'RO BOW': { game: 'Imaginators', element: 'Tech', weapon: 'Bow', gender: 'Male', color: 'Yellow' },
            'BAD JUJU': { game: 'Imaginators', element: 'Magic', weapon: 'Staff', gender: 'Female', color: 'Purple' },
            'GRAVE CLOBBER': { game: 'Imaginators', element: 'Earth', weapon: 'Sarcophagus', gender: 'Male', color: 'Brown' },
            'BLASTER TRON': { game: 'Imaginators', element: 'Tech', weapon: 'Blaster', gender: 'Male', color: 'Blue' }
        };

        const SKYLANDER_NAMES = Object.keys(SKYLANDERS_DB);
        let guesses = [];
        let gameOver = false;

        // --- DAILY SELECTION LOGIC ---
        function getDailySkylander() {
            const today = new Date();
            // Create a consistent string for the date: YYYY-MM-DD
            const dateStr = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate();
            
            // Hash function to turn the date string into a repeatable index
            let hash = 0;
            for (let i = 0; i < dateStr.length; i++) {
                hash = ((hash << 5) - hash) + dateStr.charCodeAt(i);
                hash |= 0; 
            }
            const index = Math.abs(hash) % SKYLANDER_NAMES.length;
            return SKYLANDER_NAMES[index];
        }

        const targetSkylander = getDailySkylander();
        const guessInput = document.getElementById('guess-input');
        const submitBtn = document.getElementById('submit-btn');
        const guessesContainer = document.getElementById('guesses-container');
        const suggestionsDiv = document.getElementById('suggestions');

        // --- LOCAL STORAGE LOGIC ---
        function saveState() {
            const state = {
                date: new Date().toDateString(),
                guesses: guesses,
                gameOver: gameOver
            };
            localStorage.setItem('skylandle_save', JSON.stringify(state));
        }

        function loadState() {
            const saved = localStorage.getItem('skylandle_save');
            if (!saved) return;
            const state = JSON.parse(saved);
            if (state.date === new Date().toDateString()) {
                state.guesses.forEach(g => {
                    guesses.push(g);
                    displayGuess(g);
                });
                gameOver = state.gameOver;
                document.getElementById('game-info').innerHTML = `<span>Guesses: ${guesses.length}/6</span>`;
                if (gameOver) {
                    const won = guesses.includes(targetSkylander);
                    showGameOver(won);
                }
            }
        }

        // Auto-complete
        guessInput.addEventListener('input', (e) => {
            const value = e.target.value.toUpperCase();
            if (value.length < 2) { suggestionsDiv.style.display = 'none'; return; }
            const matches = SKYLANDER_NAMES.filter(name => name.includes(value) && !guesses.includes(name)).slice(0, 10);
            if (matches.length > 0) {
                suggestionsDiv.innerHTML = matches.map(name => `<div class="suggestion-item" data-name="${name}">${name}</div>`).join('');
                suggestionsDiv.style.display = 'block';
            } else { suggestionsDiv.style.display = 'none'; }
        });

        suggestionsDiv.addEventListener('click', (e) => {
            if (e.target.classList.contains('suggestion-item')) {
                guessInput.value = e.target.dataset.name;
                suggestionsDiv.style.display = 'none';
                guessInput.focus();
            }
        });

        submitBtn.addEventListener('click', submitGuess);
        guessInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') submitGuess(); });

        function submitGuess() {
            if (gameOver) return;
            const guess = guessInput.value.toUpperCase().trim();
            if (!guess || !SKYLANDERS_DB[guess]) { showMessage('Check Skylander name!'); return; }
            if (guesses.includes(guess)) { showMessage('Already guessed!'); return; }

            guesses.push(guess);
            displayGuess(guess);
            guessInput.value = '';
            suggestionsDiv.style.display = 'none';
            document.getElementById('game-info').innerHTML = `<span>Guesses: ${guesses.length}/6</span>`;

            if (guess === targetSkylander) {
                gameOver = true;
                setTimeout(() => showGameOver(true), 500);
            } else if (guesses.length >= 6) {
                gameOver = true;
                setTimeout(() => showGameOver(false), 500);
            }
            saveState();
        }

        function displayGuess(guess) {
            const guessData = SKYLANDERS_DB[guess];
            const targetData = SKYLANDERS_DB[targetSkylander];
            const row = document.createElement('div');
            row.className = 'guess-row';

            const nameCell = document.createElement('div');
            nameCell.className = 'guess-name';
            nameCell.textContent = guess;
            row.appendChild(nameCell);

            const attrs = ['game', 'element', 'weapon', 'gender', 'color'];
            attrs.forEach(attr => {
                const cell = document.createElement('div');
                cell.className = `attribute-cell ${guessData[attr] === targetData[attr] ? 'correct' : 'incorrect'}`;
                cell.innerHTML = `<div style="font-size:8px; opacity:0.7">${attr.toUpperCase()}</div><div>${guessData[attr]}</div>`;
                row.appendChild(cell);
            });
            guessesContainer.appendChild(row);
        }

        function showGameOver(won) {
            const div = document.createElement('div');
            div.className = 'game-over';
            div.innerHTML = `
                <h2>${won ? '游끥 PORTAL MASTER' : '游눪 TRY AGAIN'}</h2>
                <p>${won ? 'You found them!' : 'The Skylander was ' + targetSkylander}</p>
                <button onclick="copyShareText()" style="padding:10px; cursor:pointer; background:#ffd700; border:none; border-radius:5px; font-weight:bold">Share Score</button>
                <p style="font-size:12px; margin-top:15px; color:#ffd700">New Skylander in: <span id="timer"></span></p>
            `;
            document.body.appendChild(div);
            startTimer();
        }

        function startTimer() {
            setInterval(() => {
                const now = new Date();
                const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
                const diff = tomorrow - now;
                const h = Math.floor(diff / 3600000);
                const m = Math.floor((diff % 3600000) / 60000);
                const s = Math.floor((diff % 60000) / 1000);
                const timerEl = document.getElementById('timer');
                if (timerEl) timerEl.textContent = `${h}h ${m}m ${s}s`;
            }, 1000);
        }

        function showMessage(text) {
            const msg = document.getElementById('message');
            msg.textContent = text;
            msg.classList.add('show');
            setTimeout(() => msg.classList.remove('show'), 2000);
        }

        function copyShareText() {
            let text = `游꿡 Skylandle Daily 游꿡\n`;
            guesses.forEach(g => {
                const gd = SKYLANDERS_DB[g];
                const td = SKYLANDERS_DB[targetSkylander];
                const row = [gd.game===td.game?'游릴':'游린', gd.element===td.element?'游릴':'游린', gd.weapon===td.weapon?'游릴':'游린', gd.gender===td.gender?'游릴':'游린', gd.color===td.color?'游릴':'游린'].join('');
                text += row + '\n';
            });
            navigator.clipboard.writeText(text).then(() => showMessage('Score copied!'));
        }

        loadState();
    </script>
</body>
</html>
